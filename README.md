#### test_for_Sarafan

![python version](https://img.shields.io/badge/Python-3.11-green)
![django version](https://img.shields.io/badge/Django-5.0-green)
![djangorestframework version](https://img.shields.io/badge/DRF-3.14-green)

[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)

### Оглавление:
- [О проекте:](#о-проекте)
- [Запуск приложения](#запуск-приложения)
    - [Запуск приложения на локальном сервере](#запуск-приложения-на-локальном-сервере)
    - [Запуск тестов](#запуск-тестов)
    - [Работа с API](#работа-с-api)
- [Используемые технологии](#используемые-технологии)

## О проекте:
Django проект магазина продуктов.

- Реализована аутентификация по токену (JWT + Djoser).
- Реализована возможность создания, редактирования, удаления категорий и подкатегорий товаров в админке.
- Реализован эндпоинт для просмотра всех категорий с подкатегориями. Предусмотрена пагинация.
- Реализован эндпоинт вывода продуктов с пагинацией
- Реализованы эндпоинты добавления, изменения (изменение количества), удаления продукта в корзине.
- Реализован эндпоинт вывода состава корзины с подсчетом количества товаров и суммы стоимости товаров в корзине.
- Реализована возможность полной очистки корзины.
- Операции по эндпоинтам категорий и продуктов может осуществлять любой пользователь.
- Операции по эндпоинтам корзины может осуществлять только авторизированный пользователь и только со своей корзиной.

## Запуск приложения
**Клонирование реппозитория**

```sh
git clone git@github.com:margoloko/test_for_Sarafan.git
```

Перейдите в папку с проектом recruitment-process-back, установите и запустите виртуальное окружение.

```sh
python -m venv venv
```

* Если у вас Linux/MacOS

    ```
    source venv/bin/activate
    ```

* Если у вас windows

    ```
    source venv/Scripts/activate
    ```
**Установка зависимостей**

  ```sh
  pip install -r requirements.txt
  ```

**Настройка переменных окружения**
- Создайте файл .env и скопируйте в него переменные окружения из файла .env.example

- Замените значения переменных на соответствующие значения для вашего окружения.

**Применяем миграции:**

  ```sh
  python manage.py migrate
  ```
**Создаем суперпользователя**

  ```
  python manage.py createsuperuser
  ```

#### Запуск приложения на локальном сервере
Перейдите в папку store
```sh
cd store
```

* Если у вас windows
    ```sh
    python manage.py runserver
    ```
* Если у вас Linux/MacOS
    ```sh
    python3 manage.py runserver
    ```

#### Запуск тестов
```sh
python manage.py test
```

#### Работа с API

Получите токен аутентификации:
POST-запрос на адрес http://127.0.0.1:8000/auth/jwt/create/

В теле запроса передаем информацию о ранее созданном пользователе
```sh
{
    "username": "your_username",
    "password": "your_password"
}
```
Используйте полученный токен (access) для аутентификации для других запросов. В типе авторизации используйте Bearer Token.

Другие эндпоинты API доступны по адресам:
- http://127.0.0.1:8000/swagger/
- http://127.0.0.1:8000/redoc/

## Используемые технологии
- Python 3.11
- Django 4.2
- Django Rest Framework 3.14.0
- djoser 2.2.2
- Pillow 10.2.0
- Black 24.2.0
- Ruff 0.3.2
- Pre-commit 3.6.2
- drf-yasg 1.21.7
